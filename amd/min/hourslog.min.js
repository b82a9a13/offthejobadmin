function reset_log_ids(){update_delete(),$("#lt_success")[0].style.display="none",$("#lt_error")[0].style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn",e.disabled=!0}),logType="none"}function update_log_ids(){$("#lt_success")[0].style.display="none",$("#lt_error")[0].style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn btn-primary",e.disabled=!1}),logType="update"}function delete_log_ids(){$("#lt_success")[0].style.display="none",$("#lt_error")[0].style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn btn-danger",e.disabled=!1}),logType="delete"}function clicked_log_id(e){$("#lt_success")[0].style.display="none";const t=$("#lt_error")[0];t.style.display="none";const n=new XMLHttpRequest;n.open("POST",`./classes/inc/hourslog_${logType}.inc.php`,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"update"==logType?n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)t.innerText=e.error,t.style.display="block";else if(e.return){const t=$("#update_record_div")[0];t.innerHTML=e.return;const n=document.createElement("script");n.src="./amd/min/hourslog_update_data.min.js",t.appendChild(n),t.scrollIntoView()}else t.innerText="Error loading.",t.style.display="block"}else t.innerText="Connection error.",t.style.display="block"}:"delete"==logType&&(n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)t.innerText=e.error,t.style.display="block";else if(e.return){update_table(),refresh_it(),refresh_bar();let e=$("#lt_success")[0];e.innerText="Deletion Success",e.style.display="block",e.scrollIntoView()}else t.innerText="Deletion error.",t.style.display="block"}else t.innerText="Connection error.",t.style.display="block"}),n.send(`id=${e}`)}function update_table(){const e=$("#ut_error")[0];e.style.display="none";const t=new XMLHttpRequest;t.open("POST","./classes/inc/hourslog_update_table.inc.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){if(200==this.status){const t=JSON.parse(this.responseText);if(t.return){let e=$("#logs_table_tbody")[0];e.innerHTML="",t.return.forEach(function(t){let n=document.createElement("tr"),o=document.createElement("td"),s=document.createElement("button");s.type="button",s.className="logs-btns btn",s.setAttribute("onclick","clicked_log_id("+t[1]+")"),s.disabled=!0,s.innerText=t[0],o.appendChild(s),n.appendChild(o);let r=2;for(;r<7;)o=document.createElement("td"),o.innerText=t[r],n.appendChild(o),r++;o=document.createElement("td");let l=document.createElement("a");l.href="./../../user/profile.php?id="+t[7],l.target="_blank",l.innerText=t[8],o.appendChild(l),n.appendChild(o),e.appendChild(n)})}else e.innerText="Data loading error, when updating table.",e.style.display="block"}else e.innerText="Connection error, when updating table.",e.style.display="block"},t.send()}function refresh_it(){const e=new XMLHttpRequest;e.open("POST","./classes/inc/hourslog_refresh_it.inc.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){const e=JSON.parse(this.responseText);e.return&&($("#it_total_left")[0].innerText=e.return)},e.send()}function refresh_bar(){const e=new XMLHttpRequest;e.open("POST","./classes/inc/hourslog_refresh_bar.inc.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.return){const t=e.return[0],n=t>=e.return[1]?0:e.return[1];$("#otjh_prog_progress_p")[0].innerText=`: ${t}%`,$("#otjh_prog_expected_p")[0].innerText=`: ${n}%`,$("#otjh_prog_incomplete_p")[0].innerText=`: ${100-t}%`;const o=$("#progressbar")[0];t>=n?(o.style=`width: ${t}%; height: 25px; background-color: green;`,$("#expectedbar")[0].style="width: 0%; height: 25px; background-color: orange;"):(o.style=`width: ${t}%; height: 25px; background-color: green;`,$("#expectedbar")[0].style=`width: ${expect}%; height: 25px; background-color: orange;`)}}},e.send()}function update_delete(){$("update_record_div")[0].innerHTML=""}let logType="none";refresh_bar();