function reset_log_ids(){update_delete(),document.getElementById("lt_success").style.display="none",document.getElementById("lt_error").style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn",e.disabled=!0}),logType="none"}function update_log_ids(){document.getElementById("lt_success").style.display="none",document.getElementById("lt_error").style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn btn-primary",e.disabled=!1}),logType="update"}function delete_log_ids(){document.getElementById("lt_success").style.display="none",document.getElementById("lt_error").style.display="none";const e=document.querySelectorAll(".logs-btns");e.forEach(function(e){e.className="logs-btns btn btn-danger",e.disabled=!1}),logType="delete"}function clicked_log_id(e){document.getElementById("lt_success").style.display="none";const t=document.getElementById("lt_error");t.style.display="none";const n=new XMLHttpRequest;n.open("POST",`./classes/inc/hourslog_${logType}.inc.php`,!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"update"==logType?n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)t.innerText=e.error,t.style.display="block";else if(e.return){const t=document.getElementById("update_record_div");t.innerHTML=e.return;const n=document.createElement("script");n.src="./amd/min/hourslog_update.min.js",t.appendChild(n),t.scrollIntoView()}else t.innerText="Error loading.",t.style.display="block"}else t.innerText="Connection error.",t.style.display="block"}:"delete"==logType&&(n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)t.innerText=e.error,t.style.display="block";else if(e.return){update_table(),refresh_it(),refresh_bar();let e=document.getElementById("lt_success");e.innerText="Deletion Success",e.style.display="block",e.scrollIntoView()}else t.innerText="Deletion error.",t.style.display="block"}else t.innerText="Connection error.",t.style.display="block"}),n.send(`id=${e}`)}function update_table(){const e=document.getElementById("ut_error");e.style.display="none";const t=new XMLHttpRequest;t.open("POST","./classes/inc/hourslog_update_table.inc.php",!0),t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.onload=function(){if(200==this.status){const t=JSON.parse(this.responseText);if(t.return){let e=document.getElementById("logs_table_tbody");e.innerHTML="",t.return.forEach(function(t){let n=document.createElement("tr"),o=document.createElement("td"),s=document.createElement("button");s.type="button",s.className="logs-btns btn",s.setAttribute("onclick","clicked_log_id("+t[1]+")"),s.disabled=!0,s.innerText=t[0],o.appendChild(s),n.appendChild(o);let l=2;for(;l<7;)o=document.createElement("td"),o.innerText=t[l],n.appendChild(o),l++;o=document.createElement("td");let r=document.createElement("a");r.href="./../../user/profile.php?id="+t[7],r.target="_blank",r.innerText=t[8],o.appendChild(r),n.appendChild(o),e.appendChild(n)})}else e.innerText="Data loading error, when updating table.",e.style.display="block"}else e.innerText="Connection error, when updating table.",e.style.display="block"},t.send()}function refresh_it(){const e=new XMLHttpRequest;e.open("POST","./classes/inc/hourslog_refresh_it.inc.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){const e=JSON.parse(this.responseText);e.return&&(document.getElementById("it_total_left").innerText=e.return)},e.send()}function refresh_bar(){const e=new XMLHttpRequest;e.open("POST","./classes/inc/hourslog_refresh_bar.inc.php",!0),e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.return){const t=e.return[0],n=t>=e.return[1]?0:e.return[1];document.getElementById("otjh_prog_progress_p").innerText=`: ${t}%`,document.getElementById("otjh_prog_expected_p").innerText=`: ${n}%`,document.getElementById("otjh_prog_incomplete_p").innerText=`: ${100-t}%`;const o=document.getElementById("progressbar");t>=n?(o.style=`width: ${t}%; height: 25px; background-color: green;`,document.getElementById("expectedbar").style="width: 0%; height: 25px; background-color: orange;"):(o.style=`width: ${t}%; height: 25px; background-color: green;`,document.getElementById("expectedbar").style=`width: ${expect}%; height: 25px; background-color: orange;`)}}},e.send()}function update_delete(){document.getElementById("update_record_div").innerHTML=""}let logType="none";refresh_bar();