function addprRecord(){const e="<td class='td-pr-type'><select class='w-100 pr-type' required><option disabled value='' selected>Learner/Employer</option><option value='Learner'>Learner</option><option value='Employer'>Employer</option></select></td><td class='td-pr-pr'><input class='w-100 pr-pr' type='date' required></td><td class='td-pr-ar'><input class='w-100 pr-ar' type='date'></td>",t=document.createElement("tr");t.className="tr-td-pr tr-td-pr-new",t.innerHTML=e,document.getElementById("pr_tbody").appendChild(t),document.getElementById("pr_removerecord").disabled=!1}function removeprRecord(){const e=document.querySelectorAll(".tr-td-pr-new"),t=e.length;t>0&&(e[t-1].remove(),1==t&&(document.getElementById("pr_removerecord").disabled=!0))}document.getElementById("plan_form").addEventListener("submit",e=>{e.preventDefault();const t=["name","employer","startdate","planenddate","lengthofprog","otjh","epao","fundsource","bksbrm","bksbre","learnstyle","skillscanlr","skillscaner","apprenhpw","weeksonprog","annualleave","hoursperweek","aostrength","ltgoals","stgoals","iaguide","recopl","addsa","cl_daterequired","cl_logrequired"];null!==document.getElementById("mathaed")&&t.push("mathfs","mathlevel","mathmod","mathsd","mathped","engfs","englevel","engmod","engsd","engped","mathaed","mathaead","engaed","engaead");const n=[["mod-m","mod-psd","mod-ped","mod-mw","mod-potjh","mod-mod","mod-rsd","mod-red","mod-otjt"],["pr-type","pr-pr","pr-ar"]];let o="";t.forEach(function(e){console.log(document.getElementById(e).value),o+=`${e}=${document.getElementById(e).value.replaceAll("&","($)")}&`,document.getElementById("td_"+e).style.background=""});let r=0;n[0].forEach(function(e){const t=document.querySelectorAll(`.${e}`),n=document.querySelectorAll(`.td-${e}`);for(let r=0;r<t.length;r++)o+=`${e}-${r}=${t[r].value.replaceAll("&","($)")}&`,n[r].style.background="";r=r<t.length?t.length:r}),o+=`mod-total=${r}&`,r=0,pos=0,n[1].forEach(function(e){const t=document.querySelectorAll(`.${e}`),n=document.querySelectorAll(`.td-${e}`);for(let r=0;r<t.length;r++)o+=`${e}-${r}=${t[r].value}&`,n[r].style.background="";r=r<t.length?t.length:r,pos++}),o+=`pr-total=${r}`;const l=document.getElementById("tp_error");l.style.display="none";const d=new XMLHttpRequest;d.open("POST","./classes/inc/trainingplan.inc.php",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(l.innerText="Invalid values: ",e.error.forEach(function(e){t.includes(e[0])?document.getElementById("td_"+e[0]).style.background="red":n[0].includes(e[0])?document.querySelectorAll(".td-"+e[0])[e[2]].style.background="red":n[1].includes(e[0])&&(document.querySelectorAll(".td-"+e[0])[e[2]].style.background="red"),l.innerText+=e[1]+"|"}),l.style.display="block"):e.return?window.location.reload():(l.innerText="Submit error.",l.style.display="block")}else l.innerText="Connection error.",l.style.display="block"},d.send(o)});