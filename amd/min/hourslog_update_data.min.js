$("#hourslog_form_u")[0].addEventListener("submit",e=>{e.preventDefault();const t=["date","activity","whatlink","impact","duration"],s=$("#hl_error_u")[0];s.style.display="none";let n="";t.forEach(e=>{$(`#td_${e}_u`)[0].style.background="",n+=e+"="+$(`#${e}_u`)[0].value+"&"}),n=n.slice(0,-1);const r=new XMLHttpRequest;r.open("POST","./classes/inc/hourslog_update_data.inc.php",!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)s.innerText="Invalid values: ",e.error.forEach(function(e){t.includes(e[0])&&($(`#td_${e[0]}_u`)[0].style.background="red",s.innerText+=`${e[1]}|`)}),s.style.display="block";else if(e.return){update_delete(),update_table(),refresh_it(),refresh_bar();let e=$("#lt_success")[0];e.innerText="Update Success",e.style.display="block",e.scrollIntoView()}else s.innerText="Update error.",s.style.display="block"}else s.innerText="Connection error.",s.style.display="block"},r.send(n)});