document.getElementById("hourslog_form_u").addEventListener("submit",e=>{e.preventDefault();const t=["date","activity","whatlink","impact","duration"],n=document.getElementById("hl_error_u");n.style.display="none";let s="";t.forEach(e=>{document.getElementById("td_"+e+"_u").style.background="",s+=e+"="+document.getElementById(e+"_u").value+"&"}),s=s.slice(0,-1);const l=new XMLHttpRequest;l.open("POST","./classes/inc/hourslog_update_data.inc.php",!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);if(e.error)n.innerText="Invalid values: ",e.error.forEachk(function(e){t.includes(e[0])&&(document.getElementById(`td_${e[0]}_u`).style.background="red",n.innerText+=`${e[0]}|`)}),n.style.display="block";else if(e.return){update_delete(),update_table(),refresh_it(),refresh_bar();let e=document.getElementById("lt_success");e.innerText="Update Success",e.style.display="block",e.scrollIntoView()}else n.innerText="Update error.",n.style.display="block"}else n.innerText="Connection error.",n.style.display="block"},l.send(s)});