function getrecord(e){const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","otjhc","otjhe","nextdate","remotef2f","hands","eandd","iaag"],n=["coursecomment","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","activityrecord_title"],o=["filesrc"],s=["ar_sign_div"],a=["learnsigndate","coachsigndate"],i=["coachsignimg","learnsignimg"];t.forEach(function(e){$(`#${e}`)[0].value=""}),n.forEach(function(e){$(`#${e}`)[0].innerText=""}),o.forEach(function(e){$(`#${e}`)[0].src=""}),s.forEach(function(e){$(`#${e}`)[0].style.display="none"}),a.forEach(function(e){$(`#${e}`)[0].value="",$(`#${e}`)[0].style.display="none"}),i.forEach(function(e){$(`#${e}`)[0].src="",$(`#${e}`)[0].style.display="none"});const l=$("#activityrecord_content_div")[0];l.style.display="none";const r=$("#get_error")[0];r.style.display="none",$("#ar_sign_div")[0].style.display="none";let c=[0,0];const d=`id=${e}`,y=new XMLHttpRequest;y.open("POST","./classes/inc/activityrecords_getrecord.inc.php",!0),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.onload=function(){if(200==this.status){let e=JSON.parse(this.responseText);if(e.error)r.innerText=e.error,r.style.display="block";else if(e.return){if(e.return.forEach(function(e){t.includes(e[0])?$(`#${e[0]}`)[0].value=e[1]:n.includes(e[0])?($(`#${e[0]}`)[0].innerHTML=e[1],["mathtoday","mathnext"].includes(e[0])&&""!=e[1]?c[0]++:["engtoday","engnext"].includes(e[0])&&""!=e[1]&&c[1]++):o.includes(e[0])?$(`#${e[0]}`)[0].src=e[1]:s.includes(e[0])?$(`#${e[0]}`)[0].style.display=e[1]:a.includes(e[0])?($(`#${e[0]}`)[0].value=e[1],$(`#${e[0]}`)[0].style.display="block"):i.includes(e[0])?($(`#${e[0]}`)[0].src=e[1],$(`#${e[0]}`)[0].style.display="block"):"impact_required"==e[0]&&($("#recapimpact")[0].required=!0)}),c[0]>0||c[1]>0){$("#func_div")[0].style.display="";let e=["none","none",!0];c[0]>0&&(e=["","block",!1]),$("#func_title0")[0].style.display=e[0],$("#math_title")[0].style.display=e[0],$("#mathtoday")[0].style.display=e[1],$("#mathtoday")[0].disabled=e[2],$("#mathnext")[0].style.display=e[1],$("#mathnext")[0].disabled=e[2],e=["none","none",!0],c[1]>0&&(e=["","block",!1]),$("#func_title1")[0].style.display=e[0],$("#eng_title")[0].style.display=e[0],$("#engtoday")[0].style.display=e[1],$("#engtoday")[0].disabled=e[2],$("#engnext")[0].style.display=e[1],$("#engnext")[0].disabled=e[2]}l.style.display="block"}}else r.innerText="Connection error.",r.style.display="block"},y.send(d)}function delrecord(e){const t=$(`#modal_${e}`)[0];if("none"==t.style.display)t.style.display="block";else if("block"==t.style.display){const t=$(`#modal_${e}_error`)[0];t.innerText="",t.style.display="none";const n=new XMLHttpRequest;n.open("POST","./classes/inc/activityrecords_delrecord.inc.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(t.innerText=e.error,t.style.display="block"):e.return?window.location.reload():(t.innerText="Deletion error.",t.style.display="block")}else t.innerText="Connection error.",t.style.display="block"},n.send(`id=${e}`)}}function closedelrecord(e){$(`#modal_${e}`)[0].style.display="none"}$("#activityrecord_content_div")[0].addEventListener("submit",e=>{e.preventDefault();const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","coursecomment","otjhc","otjhe","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","nextdate","remotef2f","hands","eandd","iaag"],n=$("#ar_error")[0];n.style.display="none";let o=new FormData;const s=$("#file")[0].files[0];null!=s&&o.append("file",s),$("#td_file")[0].style.background="",t.forEach(function(e){o.append(e,$(`#${e}`)[0].value.replaceAll("&","($)")),$(`#td_${e}`)[0].style.background=""});const a=new XMLHttpRequest;a.open("POST","./classes/inc/activityrecords_editrecord.inc.php",!0),a.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(n.innerText="Invalid values: ",e.error.forEach(function(e){(t.includes(e[0])||"file"==e[0])&&($(`#td_${e[0]}`)[0].style.background="red",n.innerText+=e[1]+"|")}),n.style.display="block"):e.return?window.location.reload():(n.innerText="Submit error.",n.style.display="block")}else n.innerText="Connection Error.",n.style.display="block"},a.send(o)});