function getrecord(e){const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","otjhc","otjhe","nextdate","remotef2f","hands","eandd","iaag"],n=["coursecomment","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","activityrecord_title"],o=["filesrc"],d=["ar_sign_div"],l=["learnsigndate","coachsigndate"],c=["coachsignimg","learnsignimg"];t.forEach(function(e){document.getElementById(e).value=""}),n.forEach(function(e){document.getElementById(e).innerText=""}),o.forEach(function(e){document.getElementById(e).src=""}),d.forEach(function(e){document.getElementById(e).style.display="none"}),l.forEach(function(e){document.getElementById(e).value="",document.getElementById(e).style.display="none"}),c.forEach(function(e){document.getElementById(e).src="",document.getElementById(e).style.display="none"});const s=document.getElementById("activityrecord_content_div");s.style.display="none";const a=document.getElementById("get_error");a.style.display="none",document.getElementById("ar_sign_div").style.display="none";let i=[0,0];const r=`id=${e}`,y=new XMLHttpRequest;y.open("POST","./classes/inc/activityrecords_getrecord.inc.php",!0),y.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),y.onload=function(){if(200==this.status){let e=JSON.parse(this.responseText);if(e.error)a.innerText=e.error,a.style.display="block";else if(e.return){if(e.return.forEach(function(e){t.includes(e[0])?document.getElementById(e[0]).value=e[1]:n.includes(e[0])?(document.getElementById(e[0]).innerHTML=e[1],["mathtoday","mathnext"].includes(e[0])&&""!=e[1]?i[0]++:["engtoday","engnext"].includes(e[0])&&""!=e[1]&&i[1]++):o.includes(e[0])?document.getElementById(e[0]).src=e[1]:d.includes(e[0])?document.getElementById(e[0]).style.display=e[1]:l.includes(e[0])?(document.getElementById(e[0]).value=e[1],document.getElementById(e[0]).style.display="block"):c.includes(e[0])?(document.getElementById(e[0]).src=e[1],document.getElementById(e[0]).style.display="block"):"impact_required"==e[0]&&(document.getElementById("recapimpact").required=!0)}),i[0]>0||i[1]>0){$("#func_div")[0].style.display="";let e=["none","none",!0];i[0]>0&&(e=["","block",!1]),$("#func_title0")[0].style.display=e[0],$("#math_title")[0].style.display=e[0],$("#mathtoday")[0].style.display=e[1],$("#mathtoday")[0].disabled=e[2],$("#mathnext")[0].style.display=e[1],$("#mathnext")[0].disabled=e[2],e=["none","none",!0],i[1]>0&&(e=["","block",!1]),$("#func_title1")[0].style.display=e[0],$("#eng_title")[0].style.display=e[0],$("#engtoday")[0].style.display=e[1],$("#engtoday")[0].disabled=e[2],$("#engnext")[0].style.display=e[1],$("#engnext")[0].disabled=e[2]}s.style.display="block"}}else a.innerText="Connection error.",a.style.display="block"},y.send(r)}function delrecord(e){const t=document.getElementById(`modal_${e}`);if("none"==t.style.display)t.style.display="block";else if("block"==t.style.display){const t=document.getElementById(`modal_${e}_error`);t.innerText="",t.style.display="none";const n=new XMLHttpRequest;n.open("POST","./classes/inc/activityrecords_delrecord.inc.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(t.innerText=e.error,t.style.display="block"):e.return?window.location.reload():(t.innerText="Deletion error.",t.style.display="block")}else t.innerText="Connection error.",t.style.display="block"},n.send(`id=${e}`)}}function closedelrecord(e){document.getElementById(`modal_${e}`).style.display="none"}document.getElementById("activityrecord_content_div").addEventListener("submit",e=>{e.preventDefault();const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","coursecomment","otjhc","otjhe","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","nextdate","remotef2f","hands","eandd","iaag"],n=document.getElementById("ar_error");n.style.display="none";let o=new FormData;const d=document.getElementById("file").files[0];null!=d&&o.append("file",d),document.getElementById("td_file").style.background="",t.forEach(function(e){o.append(e,document.getElementById(e).value.replaceAll("&","($)")),document.getElementById("td_"+e).style.background=""});const l=new XMLHttpRequest;l.open("POST","./classes/inc/activityrecords_editrecord.inc.php",!0),l.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(n.innerText="Invalid values: ",e.error.forEach(function(e){(t.includes(e[0])||"file"==e[0])&&(document.getElementById("td_"+e[0]).style.background="red",n.innerText+=e[1]+"|")}),n.style.display="block"):e.return?window.location.reload():(n.innerText="Submit error.",n.style.display="block")}else n.innerText="Connection Error.",n.style.display="block"},l.send(o)});