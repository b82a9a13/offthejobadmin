function getrecord(e){const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","otjhc","otjhe","nextdate","remotef2f"],n=["coursecomment","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","activityrecord_title"],o=["filesrc"],c=["ar_sign_div"],d=["learnsigndate","coachsigndate"],r=["coachsignimg","learnsignimg"];t.forEach(function(e){document.getElementById(e).value=""}),n.forEach(function(e){document.getElementById(e).innerText=""}),o.forEach(function(e){document.getElementById(e).src=""}),c.forEach(function(e){document.getElementById(e).style.display="none"}),d.forEach(function(e){document.getElementById(e).value="",document.getElementById(e).style.display="none"}),r.forEach(function(e){document.getElementById(e).src="",document.getElementById(e).style.display="none"});const l=document.getElementById("activityrecord_content_div");l.style.display="none";const s=document.getElementById("get_error");s.style.display="none",document.getElementById("ar_sign_div").style.display="none";const i=`id=${e}`,a=new XMLHttpRequest;a.open("POST","./classes/inc/activityrecords_getrecord.inc.php",!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onload=function(){if(200==this.status){let e=JSON.parse(this.responseText);e.error?(s.innerText=e.error,s.style.display="block"):e.return&&(e.return.forEach(function(e){t.includes(e[0])?document.getElementById(e[0]).value=e[1]:n.includes(e[0])?document.getElementById(e[0]).innerHTML=e[1]:o.includes(e[0])?document.getElementById(e[0]).src=e[1]:c.includes(e[0])?document.getElementById(e[0]).style.display=e[1]:d.includes(e[0])?(document.getElementById(e[0]).value=e[1],document.getElementById(e[0]).style.display="block"):r.includes(e[0])?(document.getElementById(e[0]).src=e[1],document.getElementById(e[0]).style.display="block"):"impact_required"==e[0]&&(document.getElementById("recapimpact").required=!0)}),l.style.display="block")}else s.innerText="Connection error.",s.style.display="block"},a.send(i)}function delrecord(e){const t=document.getElementById(`modal_${e}`);if("none"==t.style.display)t.style.display="block";else if("block"==t.style.display){const t=document.getElementById(`modal_${e}_error`);t.innerText="",t.style.display="none";const n=new XMLHttpRequest;n.open("POST","./classes/inc/activityrecords_delrecord.inc.php",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(t.innerText=e.error,t.style.display="block"):e.return?window.location.reload():(t.innerText="Deletion error.",t.style.display="block")}else t.innerText="Connection error.",t.style.display="block"},n.send(`id=${e}`)}}function closedelrecord(e){document.getElementById(`modal_${e}`).style.display="none"}document.getElementById("activityrecord_content_div").addEventListener("submit",e=>{e.preventDefault();const t=["apprentice","reviewdate","standard","eors","coach","morm","coursep","courseep","coursecomment","otjhc","otjhe","otjhcomment","recap","recapimpact","details","detailsmod","impact","mathtoday","mathnext","engtoday","engnext","aln","coachfeed","safeguard","agreedact","apprencom","nextdate","remotef2f"],n=document.getElementById("ar_error");n.style.display="none";let o=new FormData;const c=document.getElementById("file").files[0];null!=c&&o.append("file",c),document.getElementById("td_file").style.background="",t.forEach(function(e){o.append(e,document.getElementById(e).value.replaceAll("&","($)")),document.getElementById("td_"+e).style.background=""});const d=new XMLHttpRequest;d.open("POST","./classes/inc/activityrecords_editrecord.inc.php",!0),d.onload=function(){if(200==this.status){const e=JSON.parse(this.responseText);e.error?(n.innerText="Invalid values: ",e.error.forEach(function(e){(t.includes(e[0])||"file"==e[0])&&(document.getElementById("td_"+e[0]).style.background="red",n.innerText+=e[1]+"|")}),n.style.display="block"):e.return?window.location.reload():(n.innerText="Submit error.",n.style.display="block")}else n.innerText="Connection Error.",n.style.display="block"},d.send(o)});